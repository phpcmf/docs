module.exports=function(t){var o={};function e(n){if(o[n])return o[n].exports;var r=o[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}return e.m=t,e.c=o,e.d=function(t,o,n){e.o(t,o)||Object.defineProperty(t,o,{enumerable:!0,get:n})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,o){if(1&o&&(t=e(t)),8&o)return t;if(4&o&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&o&&"string"!=typeof t)for(var r in t)e.d(n,r,function(o){return t[o]}.bind(null,r));return n},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},e.p="",e(e.s=13)}([function(t,o){t.exports=flarum.core.compat["forum/app"]},function(t,o,e){"use strict";function n(t,o){return(n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,o){return t.__proto__=o,t})(t,o)}function r(t,o){t.prototype=Object.create(o.prototype),t.prototype.constructor=t,n(t,o)}e.d(o,"a",(function(){return r}))},function(t,o){t.exports=flarum.core.compat["common/extend"]},,function(t,o){t.exports=flarum.core.compat["common/components/Page"]},function(t,o){t.exports=flarum.core.compat["common/components/Button"]},function(t,o){t.exports=flarum.core.compat["common/components/LoadingIndicator"]},function(t,o){t.exports=flarum.core.compat["common/Component"]},function(t,o){t.exports=flarum.core.compat["common/components/Link"]},function(t,o){t.exports=flarum.core.compat["common/helpers/humanTime"]},function(t,o){t.exports=flarum.core.compat["forum/components/HeaderSecondary"]},function(t,o){t.exports=flarum.core.compat["forum/components/IndexPage"]},,function(t,o,e){"use strict";e.r(o);var n=e(0),r=e.n(n),c=e(1),a=e(4),s=e.n(a),i=e(5),u=e.n(i),p=e(6),d=e.n(p),f=e(7),l=e.n(f),h=e(8),b=e.n(h),y=e(9),g=e.n(y),v=function(t){function o(){return t.apply(this,arguments)||this}return Object(c.a)(o,t),o.prototype.view=function(){var t=this.attrs.docs;return m("div",{className:"DocList"},t.map((function(t){return m("div",{className:"DocList-item",key:t.id},m("h3",null,m(b.a,{href:app.route("docs.show",{id:t.id})},t.attributes.title)),m("div",{className:"DocList-excerpt"},t.attributes.content.substring(0,150),"..."),m("div",{className:"DocList-meta"},g()(t.attributes.createdAt)))})))},o}(l.a),x=function(t){function o(){return t.apply(this,arguments)||this}Object(c.a)(o,t);var e=o.prototype;return e.oninit=function(o){t.prototype.oninit.call(this,o),this.loading=!0,this.docs=[],this.loadDocs()},e.loadDocs=function(){var t=this;this.loading=!0,m.redraw(),app.request({method:"GET",url:app.forum.attribute("apiUrl")+"/docs"}).then((function(o){t.docs=o.data,t.loading=!1,m.redraw()})).catch((function(){t.loading=!1,m.redraw()}))},e.view=function(){return m("div",{className:"DocsPage"},m("div",{className:"container"},m("div",{className:"DocsPage-header"},m("h2",null,app.translator.trans("phpcmf-docs.forum.page.title")),m("p",null,app.translator.trans("phpcmf-docs.forum.page.description")),app.session.user&&app.session.user.can("docs.create")&&m(u.a,{className:"Button Button--primary",onclick:function(){return app.modal.show(EditDocModal)}},app.translator.trans("phpcmf-docs.forum.doc.create"))),this.loading?m(d.a,null):m(v,{docs:this.docs})))},o}(s.a),O=e(2),_=e(10),j=e.n(_),P=e(11),w=e.n(P);r.a.initializers.add("phpcmf-docs",(function(){r.a.routes.docs={path:"/docs",component:x},r.a.routes.docs={path:"/docs",component:DocsPage},r.a.routes["docs.show"]={path:"/docs/:id",component:DocPage},Object(O.extend)(j.a.prototype,"items",(function(t){r.a.forum.attribute("phpcmf-docs.show_docs_link")&&t.add("docs",m("a",{href:r.a.route("docs"),config:m.route},r.a.translator.trans("phpcmf-docs.forum.header.docs_link")),10)})),Object(O.extend)(w.a.prototype,"navItems",(function(t){r.a.forum.attribute("phpcmf-docs.show_docs_link")&&t.add("docs",m("a",{href:r.a.route("docs"),config:m.route},r.a.translator.trans("phpcmf-docs.forum.header.docs_link")),10)}))}))}]);
//# sourceMappingURL=forum.js.map